!function(){"use strict";function e(e,t,a,i,n,r){var m=this;this.date=moment(n),this.minDate=r.minDate&&moment(r.minDate).isValid()?moment(r.minDate):null,this.maxDate=r.maxDate&&moment(r.maxDate).isValid()?moment(r.maxDate):null,this.dateFilter=angular.isFunction(r.dateFilter)?r.dateFilter:null,this.selectingYear=!1,this.minDate&&this.maxDate&&this.maxDate.isBefore(this.minDate)&&(this.maxDate=moment(this.minDate).add(1,"days")),this.date&&(this.minDate&&this.date.isBefore(this.minDate)&&(this.date=moment(this.minDate)),this.maxDate&&this.date.isAfter(this.maxDate)&&(this.date=moment(this.maxDate))),this.yearItems={currentIndex_:0,PAGE_SIZE:5,START:m.minDate?m.minDate.year():1900,END:m.maxDate?m.maxDate.year():0,getItemAtIndex:function(e){return this.currentIndex_<e&&(this.currentIndex_=e),this.START+e},getLength:function(){return Math.min(this.currentIndex_+Math.floor(this.PAGE_SIZE/2),Math.abs(this.START-this.END)+1)}},e.$mdMedia=a,e.year=this.date.year(),this.selectYear=function(t){m.date.year(t),e.year=t,m.selectingYear=!1,m.animate()},this.showYear=function(){m.yearTopIndex=m.date.year()-m.yearItems.START+Math.floor(m.yearItems.PAGE_SIZE/2),m.yearItems.currentIndex_=m.date.year()-m.yearItems.START+1,m.selectingYear=!0},this.showCalendar=function(){m.selectingYear=!1},this.cancel=function(){t.cancel()},this.confirm=function(){var e=this.date;this.minDate&&this.date.isBefore(this.minDate)&&(e=moment(this.minDate)),this.maxDate&&this.date.isAfter(this.maxDate)&&(e=moment(this.maxDate)),t.hide(e.toDate())},this.animate=function(){m.animating=!0,i(angular.noop).then(function(){m.animating=!1})}}function t(e){var t=this;this.weekDays=moment.weekdaysMin(),this.daysInMonth=[],this.getDaysInMonth=function(){for(var e=t.date.daysInMonth(),a=moment(t.date).date(1).day(),i=[],n=1;a+e>=n;n++){var r=null;n>a&&(r={value:n-a,enabled:t.isDayEnabled(moment(t.date).date(n-a).toDate())}),i.push(r)}return i},this.isDayEnabled=function(e){return!(this.minDate&&!(this.minDate<=e)||this.maxDate&&!(this.maxDate>=e)||t.dateFilter&&t.dateFilter(e))},this.selectDate=function(e){t.date.date(e)},this.nextMonth=function(){t.date.add(1,"months")},this.prevMonth=function(){t.date.subtract(1,"months")},this.updateDaysInMonth=function(){t.daysInMonth=t.getDaysInMonth()},e.$watch(function(){return t.date.unix()},function(e,a){e&&e!==a&&t.updateDaysInMonth()}),t.updateDaysInMonth()}function a(e,t){var a=this;this.VIEW_HOURS=1,this.VIEW_MINUTES=2,this.currentView=this.VIEW_HOURS,this.momentTime=this.time?moment(this.time):moment(),this.oldTime=angular.copy(this.momentTime),this.clockHours=parseInt(this.momentTime.format("h")),this.clockMinutes=parseInt(this.momentTime.minutes()),e.$mdMedia=t,this.switchView=function(){a.currentView=a.currentView==a.VIEW_HOURS?a.VIEW_MINUTES:a.VIEW_HOURS},this.setAM=function(e){e.stopPropagation(),"PM"==a.momentTime.format("A")&&a.momentTime.hour(a.momentTime.hour()-12)},this.setPM=function(e){e.stopPropagation(),"AM"==a.momentTime.format("A")&&a.momentTime.hour(a.momentTime.hour()+12)},this.confirm=function(){this.time=this.momentTime.toDate()},this.cancel=function(){this.time=this.oldTime.toDate()},this.cancelLabel="Cancel",this.okLabel="OK"}function i(e){var t="hours",a="minutes",i=this;this.STEP_DEG=30,this.steps=[],this.CLOCK_TYPES={hours:{range:12},minutes:{range:60}},this.getPointerStyle=function(){var e=1;switch(i.type){case t:e=12;break;case a:e=60}var n=Math.round(i.selected*(360/e))-180;return{"-webkit-transform":"rotate("+n+"deg)","-ms-transform":"rotate("+n+"deg)",transform:"rotate("+n+"deg)"}},this.setTimeByDeg=function(e){e=e>=360?0:e;var n=0;switch(i.type){case t:n=12;break;case a:n=60}i.setTime(Math.round(n/360*e))},this.setTime=function(e,n){switch(this.selected=e,i.type){case t:"PM"==i.time.format("A")&&(e+=12),this.time.hours(e);break;case a:e>59&&(e-=60),this.time.minutes(e)}},this.init=function(){switch(i.type=i.type||"hours",i.type){case t:for(var e=1;12>=e;e++)i.steps.push(e);i.selected=i.time.hours()||0,i.selected>12&&(i.selected-=12);break;case a:for(var e=5;55>=e;e+=5)i.steps.push(e);i.steps.push(0),i.selected=i.time.minutes()||0}},this.init()}var n=angular.module("mdPickers",["ngMaterial","ngAnimate","ngAria"]);n.config(["$mdIconProvider","mdpIconsRegistry",function(e,t){angular.forEach(t,function(t,a){e.icon(t.id,t.url)})}]),n.run(["$templateCache","mdpIconsRegistry",function(e,t){angular.forEach(t,function(t,a){e.put(t.url,t.svg)})}]),n.constant("mdpIconsRegistry",[{id:"mdp-chevron-left",url:"mdp-chevron-left.svg",svg:'<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg>'},{id:"mdp-chevron-right",url:"mdp-chevron-right.svg",svg:'<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/><path d="M0 0h24v24H0z" fill="none"/></svg>'}]),n.provider("$mdpDatePicker",function(){var t="OK",a="Cancel";this.setOKButtonLabel=function(e){t=e},this.setCancelButtonLabel=function(e){a=e},this.$get=["$mdDialog",function(i){var n=function(n,r){return angular.isDate(n)||(n=Date.now()),angular.isObject(r)||(r={}),i.show({controller:["$scope","$mdDialog","$mdMedia","$timeout","currentDate","options",e],controllerAs:"datepicker",clickOutsideToClose:!0,template:'<md-dialog aria-label="" class="mdp-datepicker" ng-class="{ \'portrait\': !$mdMedia(\'gt-xs\') }"><md-dialog-content layout="row" layout-wrap><div layout="column" layout-align="start center"><md-toolbar layout-align="start start" flex class="mdp-datepicker-date-wrapper md-hue-1 md-primary" layout="column"><span class="mdp-datepicker-year" ng-click="datepicker.showYear()" ng-class="{ \'active\': datepicker.selectingYear }">{{ datepicker.date.format(\'YYYY\') }}</span><span class="mdp-datepicker-date" ng-click="datepicker.showCalendar()" ng-class="{ \'active\': !datepicker.selectingYear }">{{ datepicker.date.format("ddd, MMM DD") }}</span> </md-toolbar></div><div><div class="mdp-datepicker-select-year mdp-animation-zoom" layout="column" layout-align="center start" ng-if="datepicker.selectingYear"><md-virtual-repeat-container md-auto-shrink md-top-index="datepicker.yearTopIndex"><div flex md-virtual-repeat="item in datepicker.yearItems" md-on-demand class="repeated-year"><span class="md-button" ng-click="datepicker.selectYear(item)" md-ink-ripple ng-class="{ \'md-primary current\': item == year }">{{ item }}</span></div></md-virtual-repeat-container></div><mdp-calendar ng-if="!datepicker.selectingYear" class="mdp-animation-zoom" date="datepicker.date" min-date="datepicker.minDate" date-filter="datepicker.dateFilter" max-date="datepicker.maxDate"></mdp-calendar><md-dialog-actions layout="row"><span flex></span><md-button ng-click="datepicker.cancel()" aria-label="'+a+'">'+a+'</md-button><md-button ng-click="datepicker.confirm()" class="md-primary" aria-label="'+t+'">'+t+"</md-button></md-dialog-actions></div></md-dialog-content></md-dialog>",targetEvent:r.targetEvent,locals:{currentDate:n,options:r}})};return n}]}),n.directive("mdpCalendar",["$animate",function(e){return{restrict:"E",bindToController:{date:"=",minDate:"=",maxDate:"=",dateFilter:"="},template:'<div class="mdp-calendar"><div layout="row" layout-align="space-between center"><md-button aria-label="previous month" class="md-icon-button" ng-click="calendar.prevMonth()"><md-icon md-svg-icon="mdp-chevron-left"></md-icon></md-button><div class="mdp-calendar-monthyear" ng-show="!calendar.animating">{{ calendar.date.format("MMMM YYYY") }}</div><md-button aria-label="next month" class="md-icon-button" ng-click="calendar.nextMonth()"><md-icon md-svg-icon="mdp-chevron-right"></md-icon></md-button></div><div layout="row" layout-align="space-around center" class="mdp-calendar-week-days" ng-show="!calendar.animating"><div layout layout-align="center center" ng-repeat="d in calendar.weekDays track by $index">{{ d }}</div></div><div layout="row" layout-align="start center" layout-wrap class="mdp-calendar-days" ng-class="{ \'mdp-animate-next\': calendar.animating }" ng-show="!calendar.animating" md-swipe-left="calendar.nextMonth()" md-swipe-right="calendar.prevMonth()"><div layout layout-align="center center" ng-repeat-start="day in calendar.daysInMonth track by $index" ng-class="{ \'mdp-day-placeholder\': !day }"><md-button class="md-icon-button md-raised" aria-label="Select day" ng-if="day" ng-class="{ \'md-accent\': calendar.date.date() == day.value }" ng-click="calendar.selectDate(day.value)" ng-disabled="!day.enabled">{{ day.value }}</md-button></div><div flex="100" ng-if="($index + 1) % 7 == 0" ng-repeat-end></div></div></div>',controller:["$scope",t],controllerAs:"calendar",link:function(t,a,i,n){var r=[a[0].querySelector(".mdp-calendar-week-days"),a[0].querySelector(".mdp-calendar-days"),a[0].querySelector(".mdp-calendar-monthyear")].map(function(e){return angular.element(e)});t.$watch(function(){return n.date.format("YYYYMM")},function(t,a){var i=null;if(t>a?i="mdp-animate-next":a>t&&(i="mdp-animate-prev"),i)for(var n in r)r[n].addClass(i),e.removeClass(r[n],i)})}}}]),n.directive("mdpDatePicker",["$mdpDatePicker","$timeout",function(e,t){return{restrict:"A",require:"?ngModel",scope:{minDate:"@min",maxDate:"@max",dateFilter:"=mdpDateFilter",dateFormat:"@mdpFormat"},link:function(a,i,n,r){var m=a.dateFormat||moment.defaultFormat;"undefined"!=typeof n.type&&r&&angular.element(i).on("click",function(i){i.preventDefault(),e(r.$modelValue,{minDate:a.minDate,maxDate:a.maxDate,dateFilter:a.dateFilter,targetEvent:i}).then(function(e){t(function(){switch(n.type){case"date":r.$setViewValue(moment(e).format("YYYY-MM-DD"));break;default:r.$setViewValue(moment(e).format(m))}r.$render()})})})}}}]),n.directive("mdpClock",["$timeout",function(e){return{restrict:"E",bindToController:{type:"@?",time:"="},replace:!0,template:'<div class="mdp-clock"><div class="mdp-clock-container"><md-toolbar class="mdp-clock-center md-primary"></md-toolbar><md-toolbar ng-style="clock.getPointerStyle()" class="mdp-pointer md-primary"><span class="mdp-clock-selected md-button md-raised md-primary"></span></md-toolbar><md-button ng-class="{ \'md-primary\': clock.selected == step }" class="md-icon-button md-raised mdp-clock-deg{{ ::(clock.STEP_DEG * ($index + 1)) }}" ng-repeat="step in clock.steps" my-click="clock.setTime(step)" md-prevent-menu-close="md-prevent-menu-close">{{ step }}</md-button></div></div>',controller:["$scope",i],controllerAs:"clock",link:function(t,a,i,n){var r=(angular.element(a[0].querySelector(".mdp-pointer")),t.$parent.timepicker),m=function(t){var a=t.currentTarget.getClientRects()[0],i=t.currentTarget.offsetWidth/2-(t.pageX-a.left),m=t.pageY-a.top-t.currentTarget.offsetHeight/2,c=Math.round(Math.atan2(i,m)*(180/Math.PI));e(function(){n.setTimeByDeg(c+180),-1!==["mouseup","click"].indexOf(t.type)&&r&&r.switchView()})};a.on("click",m),t.$on("$destroy",function(){a.off("click",m),a.off("mousemove",m)})}}}]),n.directive("myClick",function(e,t){return{restrict:"A",compile:function(t,a){var i=e(a.myClick,null,!0);return function(e,t){t.on("click",function(t){var a=function(){i(e,{$event:t})};e.$apply(a)})}}}}),n.directive("mdpTimePicker",function(){return{template:'<md-menu md-position-mode="target-right target" width="6"><a ng-bind="formattedTime" ng-click="openMenu($mdOpenMenu)"></a><md-menu-content class="mdp-timepicker-menu" layout-gt-xs="row"><md-toolbar layout-gt-xs="column" layout-xs="row" layout-align="center center" flex class="mdp-timepicker-time md-hue-1 md-primary"><div class="mdp-timepicker-selected-time"><span ng-class="{ \'active\': timepicker.currentView == timepicker.VIEW_HOURS }" my-click="timepicker.currentView = timepicker.VIEW_HOURS">{{ timepicker.momentTime.format("h") }}</span>:<span ng-class="{ \'active\': timepicker.currentView == timepicker.VIEW_MINUTES }" my-click="timepicker.currentView = timepicker.VIEW_MINUTES">{{ timepicker.momentTime.format("mm") }}</span></div><div layout="column" class="mdp-timepicker-selected-ampm"><span my-click="timepicker.setAM($event)" ng-class="{ \'active\': timepicker.momentTime.format(\'A\') == \'AM\' }">AM</span><span my-click="timepicker.setPM($event)" ng-class="{ \'active\': timepicker.momentTime.format(\'A\') == \'PM\' }">PM</span></div></md-toolbar><div><div class="mdp-clock-switch-container" ng-switch="timepicker.currentView" layout layout-align="center center"><mdp-clock class="mdp-animation-zoom" time="timepicker.momentTime" type="hours" ng-switch-when="1"></mdp-clock><mdp-clock class="mdp-animation-zoom" time="timepicker.momentTime" type="minutes" ng-switch-when="2"></mdp-clock></div><md-dialog-actions layout="row"><span flex></span><md-button ng-click="timepicker.cancel()" aria-label="{{timepicker.cancelLabel}}">{{timepicker.cancelLabel}}</md-button><md-button ng-click="timepicker.confirm()" class="md-primary" aria-label="{{timepicker.okLabel}}">{{timepicker.okLabel}}</md-button></md-dialog-actions></div></md-menu-content></md-menu>',bindToController:!0,controller:["$scope","$mdMedia",a],controllerAs:"timepicker",require:"ngModel",scope:{timeFormat:"@mdpFormat",time:"=ngModel"},link:function(e,t,a,i){e.openMenu=function(t){e.timepicker.oldTime=angular.copy(e.timepicker.momentTime),t()},i.$render=function(){e.formattedTime=i.$viewValue},i.$formatters.push(function(e){return moment(e).format("LT")}),i.$parsers.push(function(e){return moment(e,"hh:mm a").toDate()}),e.$watch(function(e){return e.timepicker.time?e.timepicker.time.toString():void 0},function(e){i.$setViewValue(moment(new Date(e)).format("LT")),i.$render()})}}})}();
//# sourceMappingURL=mdPickers.min.js.map
